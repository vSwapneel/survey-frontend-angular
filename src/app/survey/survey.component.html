<div class="container mt-navbar">
    <!-- Swapneel Suhas Vaidya -->
     <!-- Contains the survey element -->
    <div class="header-box text-center">
        <h1>CS Department Survey</h1>
    </div>

    <div id="form-errors" class="error mt-3">{{ zipError }}</div>

    <form class="mt-4" #form="ngForm" (ngSubmit)="onSubmit(form)">
        <div class="mb-3">
            <label for="first-name" class="form-label">First Name:*</label>
            <input type="text" id="first-name" class="form-control" [(ngModel)]="firstName" name="firstName" required placeholder="Enter first name" [disabled]="!!surveyId">
            <div *ngIf="form.controls['firstName']?.invalid && form.controls['firstName']?.touched" class="text-danger">
                First name is required.
            </div>
        </div>

        <div class="mb-3">
            <label for="last-name" class="form-label">Last Name:*</label>
            <input type="text" id="last-name" class="form-control" [(ngModel)]="lastName" name="lastName" required placeholder="Enter last name" [disabled]="!!surveyId">
            <div *ngIf="form.controls['lastName']?.invalid && form.controls['lastName']?.touched" class="text-danger">
                Last name is required.
            </div>
        </div>

        <div class="mb-3">
            <label for="telephone" class="form-label">Telephone Number:*</label>
            <input type="tel" id="telephone" class="form-control" [(ngModel)]="telephone" name="telephone" required placeholder="Enter telephone number" pattern="^(\+?\d{1,4}|\d{1,4})?\s?\d{10}$" [disabled]="!!surveyId">
            <div *ngIf="form.controls['telephone']?.invalid && form.controls['telephone']?.touched" class="text-danger">
                Please enter a valid telephone number.
            </div>
        </div>

        <div class="mb-3">
            <label for="email" class="form-label">Email Id:*</label>
            <input type="email" id="email" class="form-control" [(ngModel)]="email" name="email" required placeholder="Enter Email Address" pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$" [disabled]="!!surveyId">
            <div *ngIf="form.controls['email']?.invalid && form.controls['email']?.touched" class="text-danger">
                Please enter a valid email address.
            </div>
        </div>

        <div class="mb-3">
            <label for="survey-date" class="form-label">Date of Survey:*</label>
            <input type="date" id="survey-date" class="form-control" [(ngModel)]="surveyDate" name="surveyDate" required [disabled]="!!surveyId">
            <div *ngIf="form.controls['surveyDate']?.invalid && form.controls['surveyDate']?.touched" class="text-danger">
                Date of survey is required.
            </div>
        </div>

        <div class="mb-3">
            <label for="street" class="form-label">Street Address:*</label>
            <input type="text" id="street" class="form-control" [(ngModel)]="street" name="street" required placeholder="1234 Main St" [disabled]="!!surveyId">
            <div *ngIf="form.controls['street']?.invalid && form.controls['street']?.touched" class="text-danger">
                Street address is required.
            </div>
        </div>

        <div class="mb-3">
            <label for="zipcode" class="form-label">Zip Code:*</label>
            <input type="text" id="zipcode" class="form-control" [(ngModel)]="zipcode" name="zipcode" required (blur)="fetchLocationData(zipcode)" placeholder="Zip Code" [disabled]="!!surveyId">
            <div *ngIf="form.controls['zipcode']?.invalid && form.controls['zipcode']?.touched" class="text-danger">
                Zip code is required.
            </div>
            <div id="zip-error" class="error">{{ zipError }}</div>
        </div>

        <div class="mb-3">
            <label for="city" class="form-label">City:</label>&nbsp;
            <span id="city">{{ city }}</span>
        </div>

        <div class="mb-3">
            <label for="state" class="form-label">State:</label>&nbsp;
            <span id="state">{{ state }}</span>
        </div>

        <div class="mb-3">
            <label for="recommend" class="form-label">Likelihood to Recommend:*</label>
            <select id="recommend" class="form-select" [(ngModel)]="recommend" name="recommend" required>
                <option value="">Select</option>
                <option value="Very Likely">Very Likely</option>
                <option value="Likely">Likely</option>
                <option value="Unlikely">Unlikely</option>
            </select>
            <div *ngIf="form.controls['recommend']?.invalid && form.controls['recommend']?.touched" class="text-danger">
                Please select an option.
            </div>
        </div>

        <div class="mb-3">
            <label for="likedMost" class="form-label">What did you like the most:*</label>
            <select id="likedMost" class="form-select" [(ngModel)]="likedMost" name="likedMost" required>
                <option value="">Select</option>
                <option value="Campus">Campus</option>
                <option value="Department">Department</option>
                <option value="Location">Location</option>
            </select>
            <div *ngIf="form.controls['likedMost']?.invalid && form.controls['likedMost']?.touched" class="text-danger">
                Please select an option.
            </div>
        </div>

        <div class="mb-3">
            <label for="interestSource" class="form-label">Interest source:*</label>
            <select id="interestSource" class="form-select" [(ngModel)]="interestSource" name="interestSource" required>
                <option value="">Select</option>
                <option value="Friends">Friends</option>
                <option value="Internet">Internet</option>
                <option value="Events">Events</option>
            </select>
            <div *ngIf="form.controls['interestSource']?.invalid && form.controls['interestSource']?.touched" class="text-danger">
                Please select an option.
            </div>
        </div>

        <div class="mb-3">
            <label for="comments" class="form-label">Additional Comments:</label>
            <textarea id="comments" class="form-control" rows="4" [(ngModel)]="comments" name="comments" placeholder="Enter any additional comments"></textarea>
        </div>

        <button type="submit" class="btn btn-custom-yellow">Submit</button>
    </form>
</div>
